<% if(theme.comment.gitalk.clientID && theme.comment.gitalk.clientSecret && theme.comment.gitalk.repo && theme.comment.gitalk.owner && theme.comment.gitalk.admin) { %>
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk@latest/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
    <script src="https://priesttomb.github.io/js/md5.min.js"></script>
    <script>
      var gitalk = new Gitalk({
        clientID: '<%= theme.comment.gitalk.clientID %>',
        clientSecret: '<%= theme.comment.gitalk.clientSecret %>',
        repo: '<%= theme.comment.gitalk.repo %>',
        owner: '<%= theme.comment.gitalk.owner %>',
        admin: <%- JSON.stringify(theme.comment.gitalk.admin || []) %>,
        id: md5(<%- theme.comment.gitalk.id %>),
        distractionFreeMode: <%= theme.comment.gitalk.distractionFreeMode %>,
        language: '<%= theme.comment.gitalk.language %>',
        labels: <%- JSON.stringify(theme.comment.gitalk.labels || []) %>,
        perPage: <%= theme.comment.gitalk.perPage || 10 %>
      })
      gitalk.render('gitalk-container')
    </script>
  <% } %>